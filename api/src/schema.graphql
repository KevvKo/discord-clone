type Query{
  user: User!
}

type Mutation {
  message ( text: String!): Message!
  signup ( email: String!, password: String!, username: String! ): AuthPayload
  login ( email: String!, password: String! ): AuthPayload
}

type AuthPayload {
  token: String
  user: User
}

type User {
  id: ID!
  username: String!
  email: String!
  messages: [Message!]
}

type Message {
  id: ID!
  text: String!
  writtenBy: User
}

type Subscription{
  newMessage: Message 
}